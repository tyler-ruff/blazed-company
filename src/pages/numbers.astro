---
import Layout from "@/layouts/Layout.astro";
import type { MenuItem } from "@/lib/types/menu";

const telephonesQuery = await fetch(new URL("/api/telephones", Astro.url));
const data = await telephonesQuery.json();

interface Telephone{
    company: string;
    number: string;
    type: string;
};

const breadCrumb = [
    {
        title: "Home",
        path: "/"
    },
    {
        title: "Directory",
        path: "/dir/"
    },
    {
        title: "Phone Numbers"
    }
] as MenuItem[];
---

<Layout title="Telephone Directory" 
        description="Browse our phone numbers. The telephone directory is the best way to get in contact with the right party."
        breadcrumb={breadCrumb}>
    {
        data.map((phone: Telephone) => (
            <p>
                {phone.number}
            </p>
        ))
    }
</Layout>